#!/bin/sh
#
# Both / and \ are appeared as separators in file paths in a tags
# file generated by ctags built on
# "Environment: compiler=msys2, MSYS2_ARCH=x86_64, MSYS2_DIR=msys64, MSYSTEM=MINGW64"
# of Appveyor.
#
# / comes from arguments, which units test harness passes to
# the ctags executable.
# \ comes from OUTPUT_PATH_SEPARATOR macro defined in main/routines.h.
# If UNIX_PATH_SEPARATOR macro is defined when the ctags executable
# is built, OUTPUT_PATH_SEPARATOR macro is defined as / but by default
# it is defined as \ on the environment.
#
# Following sed invocation trims directory components of
# file paths in the tags file when OUTPUT_PATH_SEPARATOR is defined
# as \.
#
sed -e 's/line_directives.c.d\\\\//'
